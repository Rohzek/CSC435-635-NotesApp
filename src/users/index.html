<template>
  <div class='display'>

  <!-- Import CSS -->
  <require from="../display.css"></require>

  <!-- Import font-->
  <link href="https://fonts.googleapis.com/css?family=Noto+Sans:700,700i" rel="stylesheet">

  <!-- Begin page-->
  <div class="title"><div class="title-text">Users:</div></div>

    <!-- This is how to bind an input to a variable -->
    <table class="table table-striped" aurelia-table="data.bind: users; display-data.bind: $displayData">
        <thead>
          <!-- Our Header -->
        <tr>
            <th>Id</th>
            <th>Name</th>
            <th>E-mail</th>
            <th>Creation Date</th>
            <th>Controls</th>
        </tr>
        </thead>
        <tbody>
          <!-- Our Information -->
        <tr repeat.for="user of users">
            <td>${user.id}</td>
            <td>${user.name}</td>
            <td><a href="mailto:${user.email}">${user.email}</a></td>
            <td>${user.createdOn.toLocaleString()}</td>
            <td>
                <button click.delegate = "deleteData(user.id)">DELETE</button>
            </td>
        </tr>

        <!-- Our Blank Input -->
        <tr>
            <td><span><input type="text" value.bind="newNote.id" placeholder="${index}" value="${index}"></span></td>
            <td><span><input type="text" value.bind="newNote.name" placeholder="Name"></span></td>
            <td><span><input type="email" value.bind="newNote.email" placeholder="name@domain.com"></span></td>
            <td>${now}</td>
            <td>
                <button click.delegate = "postData()">SUBMIT</button>
            </td>
        </tr>
        </tbody>
    </table>
    <p>*Note: You can enter an Id already displayed to update that record, instead.</p>
    <p>**Note: Please <button click.delegate = "refreshPage()">Refresh</button> the page to view changes to database.</p>
  </div>
</template>
